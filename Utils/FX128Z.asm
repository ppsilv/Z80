
L5318	DEFB	#E0,10,14,15,#96,#AF,#B4,#B9,#BE,#BD,#C5,9
	DEFB	"L",#C4,4,#C5,",",#85,0,8,12,"%*U"
	DEFB	"\ik",9,"RE",#D4,#A4,"/",9,"PO",#D0,#94,#9A
	DEFB	"RE",#D4
	DEFB	"EX",#D8
	DEFB	"JP "
	DEFB	"(K",#A9
	DEFB	"LD "
	DEFB	"SP,"
	DEFB	#CB,9,"J"
	DEFB	#D0,"$",#C1
	DEFB	#D7,#BA,"JP ",#D7
	DEFB	#A0,"OUT (V),"
	DEFB	#C1,"IN	A,(V",#A9
	DEFB	"EX (SP),",#CB
	DEFB	"EX DE,H",#CC,"D"
	DEFB	#C9,"E",#C9
	DEFB	9,"CAL",#CC,"$"
	DEFB	#C1,#D7,"7"
	DEFB	9,"PUS",#C8,#94
	DEFB	#81,"CALL ",#D7,",",#81
	DEFB	#D6,9,"RS",#D4,#BA
	DEFB	"0",#B0,"0"
	DEFB	#B8,"1",#B0
	DEFB	"1",#B8,"2"
	DEFB	#B0,"2",#B8
	DEFB	"3",#B0,"3"
	DEFB	#B8,":RL",#C3,"RR",#C3,"R",#CC,"R",#D2
	DEFB	"SL",#C1
	DEFB	"SR",#C1
	DEFB	"SL",#C9
	DEFB	"SR",#CC
	DEFB	1,#A0,#85
	DEFB	9,"BI"
	DEFB	#D4,#1C,#C5
	DEFB	9,"RE"
	DEFB	#D3,#1C,#C5
	DEFB	9,"SE"
	DEFB	#D4,#1C,#C5
	DEFB	0,#B4,#BB
	DEFB	#C3,#D1,#DE
	DEFB	#E1,#E9,#F0
	DEFB	#1B,"L",#C4
	DEFB	"C",#D0,"I"
	DEFB	#CE,"O",#D4
	DEFB	6,#9A,#C9
	DEFB	#C4,"I",#D2
	DEFB	"D",#D2,#00
	DEFB	8,"%2akosx6",9,"J",#D2
	DEFB	"$",#C1,#AA
	DEFB	#9A,"NO"
	DEFB	#D0,"EX	AF,AF"
	DEFB	#A7,"DJNZ "
	DEFB	#AA,"JR	",#AA,"7"
	DEFB	9,"L",#C4
	DEFB	#0C,#C1,#D7
	DEFB	#01,"ADD ",#CB
	DEFB	#CC,9,"L"
	DEFB	#C4,#BA,"(BC)"
	DEFB	",",#C1,"A,(BC)"
	DEFB	#A9,"(DE),"
	DEFB	#C1,"A,(DE",#A9,"(W),"
	DEFB	#CB,"K,(W",#A9
	DEFB	"(W),",#C1,"A,(W"
	DEFB	#A9,"/",9
	DEFB	"IN",#C3
	DEFB	#8C,9,"DE",#C3,#8C
	DEFB	9,"IN"
	DEFB	#C3,#84,9
	DEFB	"DE",#C3
	DEFB	#84,9,"L"
	DEFB	#C4,4,#C1
	DEFB	#D6,#BA,"R"
	DEFB	"LC",#C1
	DEFB	"RRC"
	DEFB	#C1,"RL"
	DEFB	#C1,"RR"
	DEFB	#C1,"DA"
	DEFB	#C1,"CP"
	DEFB	#CC,"SC"
	DEFB	#C6,"CC"
	DEFB	#C6,9,"I"
	DEFB	#CE,4,#C1
	DEFB	"(C",#A9
	DEFB	1,"OUT ("
	DEFB	"C",#A9,#C4
	DEFB	"?",1,"SBC "
	DEFB	#CB,#CC,1
	DEFB	"ADC"
	DEFB	" ",#CB,#CC
	DEFB	9,"L",#C4
	DEFB	"/",1,"("
	DEFB	"W",#A9,#CC
	DEFB	12,#C1,"("
	DEFB	"W",#A9,#81
	DEFB	"NE",#C7
	DEFB	1,"RE"
	DEFB	#D4,#17,#81
	DEFB	#CE,#81,#C9
	DEFB	9,"I",#CD
	DEFB	#9A,#B0,#AD
	DEFB	#B1,#B2,">"
	DEFB	#8A,"RR"
	DEFB	#C4,"RL"
	DEFB	#C4,9,"L"
	DEFB	#C4,#9A,"I"
	DEFB	",",#C1,"R"
	DEFB	",",#C1,"A"
	DEFB	",",#C9,"A"
	DEFB	",",#D2
L54EE	DEFB	6,15,#15,#1B
	DEFB	#22,"-",#C2
	DEFB	#C3,#C4,#C5
	DEFB	#C8,#CC,"("
	DEFB	"Q",#A9,#C1
	DEFB	"B",#C3,"D"
	DEFB	#C5,#CB,"S"
	DEFB	#D0,"B",#C3
	DEFB	"D",#C5,#CB
	DEFB	"A",#C6,#B0
	DEFB	#B1,#B2,#B3
	DEFB	#B4,#B5,#B6
	DEFB	#B7,"N",#DA
	DEFB	#DA,"N",#C3
	DEFB	#C3,"P",#CF
	DEFB	"P",#C5,#D0
	DEFB	#CD,"ADD A"
	DEFB	#AC,"ADC A"
	DEFB	#AC,"SU"
	DEFB	"B",#A0,"SBC "
	DEFB	"A",#AC,"A"
	DEFB	"ND",#A0
	DEFB	"XOR"
	DEFB	#A0,"OR"
	DEFB	#A0,"CP",#A0
L5544	DEFB	"HAL",#D4
L5548	DEFB	"H",#CC,"I",#D8,"I",#D9
L554E	LD	HL,(L4B8B)
	PUSH	HL
	LD	HL,0
LOOPDS	LD	(L48D2),HL
	PUSH	HL
	PUSH	BC
	CALL	L556C
	POP	BC
	POP	HL
	INC	H
	DJNZ	LOOPDS
	POP	HL
	LD	(L4B8B),HL
	LD	DE,#898
	JP	L4E63
L556C	XOR	A
	LD	HL,L48D0
	LD	(HL),A
	INC	HL
	LD	(HL),A
	INC	HL
	LD	(HL),A
	LD	A,#11
	LD	(L48D5),A
	LD	HL,(L4B8B)
	CALL	L4B60
	LD	A,(L48D2)
	INC	A
	LD	(L48D4),A
	LD	DE,0
	CALL	L55E4
	LD	A,(L48D4)
	LD	(L48D2),A
	LD	B,A
	LD	A,#10
	SUB	B
	JR	Z,L559C
	CALL	L55A7
L559C	LD	A,(L48D5)
	LD	(L48D2),A
	LD	B,A
	LD	A,#20
	SUB	B
	RET	Z
L55A7	LD	B,A
L55A8	CALL	L4FC5
	DJNZ	L55A8
	RET 
L55AE	PUSH	HL
	LD	A,(L48D4)
	LD	(L48D2),A
	LD	HL,(L4B8B)
	LD	A,(HL)
	INC	HL
	LD	(L4B8B),HL
	PUSH	AF
	CALL	L4B6D
	LD	A,(L48D2)
	LD	(L48D4),A
	POP	AF
	POP	HL
	RET 
L55CA	LD	HL,L48D4
	DEC	(HL)
	DEC	(HL)
	LD	HL,(L4B8B)
	DEC	HL
	LD	(L4B8B),HL
	DJNZ	L55CA
	LD	A,#3F
	JP	L56F3
L55DD	INC	D
L55DE	INC	D
	LD	A,D
	CP	3
	JR	NC,L55CA
L55E4	CALL	L55AE
	LD	B,1
	CP	#76
	JP	Z,L5685
	CP	#DD
	JR	Z,L55DE
	CP	#FD
	JR	Z,L55DD
	CP	#CB
	JR	Z,L55FF
	CP	#ED
	JR	NZ,L563C
	INC	E
L55FF	INC	E
	LD	A,E
	LD	(L48D1),A
	XOR	A
	OR	D
	JR	NZ,L5612
	LD	A,E
	CP	1
	JR	NZ,L561D
	CALL	L55AE
	JR	L563C
L5612	LD	A,E
	CP	2
	JR	Z,L55CA
	CALL	L55AE
	LD	(L48D0),A
L561D	CALL	L55AE
	LD	C,A
	LD	A,E
	CP	1
	JR	NZ,L5631
	LD	B,3
	LD	A,C
	AND	7
	CP	6
	JR	NZ,L55CA
	JR	L563B
L5631	LD	A,#3F
	CP	C
	JR	NC,L55CA
	LD	A,#BB
	CP	C
	JR	C,L55CA
L563B	LD	A,C
L563C	LD	(L4B8E),A
	RLA 
	RL	E
	RLA 
	RL	E
	LD	A,E
	LD	HL,L5318
	CALL	L5673
L564C	LD	A,(HL)
	INC	HL
	LD	BC,L5664
	PUSH	BC
	PUSH	HL
	PUSH	AF
	LD	HL,L5669
	CALL	L5671
	POP	AF
	RRCA 
	RRCA 
	RRCA 
	LD	E,A
	EX	(SP),HL
	LD	A,(L4B8E)
	RET 
L5664	BIT	4,E
	JR	Z,L564C
	RET 
L5669	EX	AF,AF'
	DJNZ	L56A0
	LD	(HL),#46
	LD	C,B
	LD	H,B
	LD	E,B
L5671	AND	7
L5673	LD	C,A
	LD	B,0
	ADD	HL,BC
	LD	C,(HL)
	ADD	HL,BC
	RET 
L567A	CALL	L5688
	BIT	0,E
	RET	Z
	LD	A,#20
	JP	L56F3
L5685	LD	HL,L5544
L5688	BIT	3,E
	RES	3,E
	LD	A,#2C
	CALL	NZ,L56F3
L5691	LD	A,(HL)
	BIT	7,A
	RES	7,A
	PUSH	AF
	CALL	NC,L56DF
	INC	HL
	POP	AF
	JR	Z,L5691
	RET 
L569F	RRA 
L56A0	RRA 
	RRA 
	AND	7
	LD	C,A
	LD	A,E
	AND	7
L56A8	LD	B,A
	INC	B
L56AA	XOR	A
	CP	C
	CALL	L5688
	DEC	C
	DJNZ	L56AA
	RET 
L56B3	RRA 
	RRA 
	RRA 
	PUSH	HL
	LD	HL,L54EE
	PUSH	AF
	LD	A,E
	CALL	L5671
	POP	AF
	AND	7
	LD	C,A
	CALL	L56A8
	POP	HL
	RET 
L56C8	RRCA 
	XOR	4
	BIT	2,A
	JR	L56D1
L56CF	BIT	5,A
L56D1	RES	5,A
	LD	(L4B8E),A
	RET	NZ
	LD	A,E
	AND	7
	LD	C,A
	LD	B,0
	ADD	HL,BC
	RET 
L56DF	CP	#4B
	JR	Z,L5733
	CP	#51
	JR	Z,L5741
	CP	#56
	JR	Z,L5702
	CP	#57
	JR	Z,L5719
	CP	#2A
	JP	Z,L5767
L56F3	PUSH	AF
	LD	A,(L48D5)
	LD	(L48D2),A
	INC	A
	LD	(L48D5),A
	POP	AF
	JP	L4FC7
L5702	CALL	L55AE
	PUSH	HL
	PUSH	AF
	LD	A,(L48D5)
	LD	(L48D2),A
	POP	AF
	CALL	L4AAAF		;BYTE
	LD	A,(L48D2)
	LD	(L48D5),A
	POP	HL
	RET 
L5719	CALL	L55AE
	PUSH	HL
	LD	L,A
	CALL	L55AE
	LD	H,A
	LD	A,(L48D5)
	LD	(L48D2),A
	CALL	L4B60		;ADR
	LD	A,(L48D2)
	LD	(L48D5),A
	POP	HL
	RET 
L5733	PUSH	HL
	PUSH	BC
	LD	HL,L5548
	LD	C,D
	LD	B,3
	CALL	L56AA
	POP	BC
	POP	HL
	RET 
L5741	CALL	L5733
	LD	A,D
	OR	A
	RET	Z
	LD	A,#2B
	CALL	L56F3
	LD	A,(L48D1)
	DEC	A
	JR	NZ,L5702
	PUSH	HL
	LD	A,(L48D5)
	LD	(L48D2),A
	LD	A,(L48D0)
	CALL	L4AAAF
	LD	A,(L48D2)
	LD	(L48D5),A
	POP	HL
	RET 
L5767	PUSH	DE
	CALL	L55AE
	LD	HL,(L4B8B)
	DEC	HL
	CP	#80
	JR	C,L578E
	LD	E,A
	LD	A,#FF
	SUB	E
	LD	E,A
	LD	D,0
	OR	A
	SBC	HL,DE
L577D	LD	A,(L48D5)
	LD	(L48D2),A
	CALL	L4B60		;ADR
	POP	DE
	LD	A,(L48D2)
	LD	(L48D5),A
	RET 
L578E	INC	A
	LD	E,A
	LD	D,0
	ADD	HL,DE
	JR	L577D
L5795	LD	HL,(L4B8B)	;-DUMP-
	LD	DE,0
L579B	LD	(L48D2),DE
	PUSH	DE
	PUSH	BC
	CALL	L57B3
	CALL	L4FC5
	POP	BC
	POP	DE
	INC	D
	INC	HL
	DJNZ	L579B
	LD	DE,#15E0
	JP	L4E63
L57B3	PUSH	HL
	CALL	L4B60
	LD	A,6
	LD	(L48D2),A
	POP	HL
	PUSH	HL
	LD	A,(HL)
	PUSH	AF
	CALL	L4AAAF
	CALL	L4FC5
	CALL	L4FC7
	LD	A,10
	LD	(L48D2),A
	POP	AF
	LD	L,A
	LD	B,8
Z48EE	XOR	A
	RL	L
	ADC	A,"0"
	CALL	L4FC7
	DJNZ	Z48EE
	LD	A,#14		;:
	LD	(L48D2),A
	POP	HL
	PUSH	HL
	LD	E,(HL)
	INC	HL
	LD	D,(HL)
	EX	DE,HL
	CALL	L4ABC
	LD	A,(L48D2)
	LD	B,A
	LD	A,#14
	SUB	B
	LD	B,A
L57DE	CALL	L4FC5
	DJNZ	L57DE
	LD	A,#1A
	LD	(L48D2),A
	POP	HL
	LD	A,(HL)
	CP	#80
	JR	C,L57F6
	LD	A,#C6
	LD	(L4FF5),A
	LD	A,#80
	LD	(L4FF5+1),A
	LD	A,(HL)
	AND	#7F
L57F6	CP	#20
	CALL	NC,L4FC7
	XOR	A
	LD	(L4FF5),A
	LD	(L4FF5+1),A
	RET 
HELL	CALL	L4860
	LD	HL,H1
	CALL	PRIHELL
	CALL	L4F8C
	CALL	L4860
	LD	HL,H2
	CALL	PRIHELL
	CALL	L4F8C
	CALL	L4860
	JP	L4A7C
PRIHELL	LD	E,0
PRIHE2	LD	A,(HL)
	INC	HL
	BIT	7,A
	PUSH	AF
	AND	#3F
	OUT	(#F5),A
	LD	A,E
	OUT	(#F4),A
	INC	E
	POP	AF
	JR	Z,PRIHE2
	RET 
TEXT1	DEFB	"* FOXMON-2 * V1.00 BY (R)SOFT'9","6"+#80
TEXT2	DEFB	"PRESS <?> TO HEL","P"+#80
KOPTXT	DEFB	"COPY FROM READER TO PERFORATO","R"+#80
MONCTXT	DEFB	"COPY MONITOR TO PERFORATO","R"+#80
PENDTXT	DEFB	"PERFO END BLOC","K"+#80
H1	DEFB	"	    ***	HELP ***	 "
	DEFB	"A-DIS/DUMP MODE : P-PERFO BLOCK "
	DEFB	"M-NEW ADDRESS	 : E-PERFO END	 "
	DEFB	"H-HEX/DEC MODE	 : 6,5-INC ADDR. "
	DEFB	"O-POKE	BYTES	 : 7,8-DEC ADDR. "
	DEFB	"C-COPY	BLOCK	 : ?-HELP	 "
	DEFB	"I-FILL	BLOCK	 : B-BINARY BYTE "
	DEFB	"	PRESS A	KEY TO MOR","E"+#80
H2	DEFB	"C-CALCULATE	 : T-TEXT FILL	 "
	DEFB	"L-LOAD	FROM TAPE: F-FIND TEXT	 "
	DEFB	"S-SAVE	TO TAPE	 : G-FIND BYTES	 "
	DEFB	"R-READER LOAD	 : N-FIND NEXT	 "
	DEFB	"S-SET LEN BLOCK : Z-PERFO TEXT	 "
	DEFB	"K-COPY	FROM READER TO PERFORATOR"
	DEFB	"*-COPY	MONITOR	TO PERFORATOR	 "
	DEFB	"      PRESS A KEY TO EXI","T"+#80
L48D0	DEFB	0
L48D1	DEFB	4
L48D2	DEFW	0
L48D4	DEFB	7
L48D5	DEFW	#15
L4B89	DEFW	0	;STACK
L4B8B	DEFW	0
L4B8D	DEFB	5
L4B8E	DEFB	7
L4B8F	DEFB	1
SAVTXT	DEFB	"SAVE",#80+" "
LOATXT	DEFB	"LOAD",#80+" "
FILTXT	DEFB	"FILL",#80+" "
POKTXT	DEFB	"POKE",#80+":"
L4B90	DEFB	"ADDRES",#80+"="
L4B96	DEFB	" TYPE",#80+"="
L4B9B	DEFB	"ERROR",#80+":"
L4BA3	DEFB	" LEN",#80+"="
L4BA8	DEFB	"START",#80+"="
L4BAE	DEFB	" END",#80+"="
L4BB4	DEFB	" TO",#80+"="
L4BB8	DEFB	"JUMP ADR",#80+"="
L4BBB	DEFB	"FIND TEXT",#80+":"
L4BBD	DEFB	"CALCULATE",#80+":"
L4BBF	DEFB	"TEXT FILL",#80+":"
L4BC1	DEFB	"FIND",#80+":"
L4BC3	DEFB	"BINARY",#80+":"
PERFTXT	DEFB	"PERFO",#80+":"
REATXT	DEFB	"READER",#80+":"
HARDTXT	DEFB	"HARDWARE NOT READY",#80+"!"
L4BD6	DEFB	"1=ADD:2=SUB:3=RL:4=RR:5=XOR:6=",#80+"N"
L4BF6	DEFB	#CD  ;return in	FOXMON
	DEFW	TURN
LENBL	DEFB	64
FLAG	DEFB	0
L4BF9	DEFS	7
L4DBD	DEFB	0
EOF


